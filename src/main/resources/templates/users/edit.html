<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="fragments/header :: my-header('Edit Profile')">
    </th:block>

    <link href="../../static/css/bootstrap.css" th:href="@{/css/bootstrap.css}" rel="stylesheet"/>
    <!-- Material Design Bootstrap -->
    <link href="../../static/css/mdb.css" th:href="@{/css/mdb.css}" rel="stylesheet"/>
    <!-- Your custom styles (optional) -->
    <link href="../../static/css/style.min.css" th:href="@{/css/style.min.css}" rel="stylesheet"/>
    <link th:rel="stylesheet" th:href="@{'/css/profile.css'}"/>
    <style>
        .bg{
            background-color:#F1F3F4 ;
        }

        .fm{
            margin-top:100px;
            margin-left:auto;
            margin-right:auto;
            background-color:white;
            border-bottom-color:#3F51B5;


        }
    </style>

</head>


<body class="bg">
<th:block th:replace="fragments/navbar :: top-nav" />




<div class="container">
    <div class=" fm col-4" >
<form  th:action=" @{'/profile/' + ${user.id} + '/edit'}" method="post" th:object="${user}">
    <label for="username">Username</label>
    <input id="username" class="form-control" name="username" th:field="*{username}"  type="text" placeholder="Username"/>

    <label for="email">Email</label>
    <input id="email" type="text" class="form-control" name="email" th:field="*{email}" placeholder="Email"/>

    <label for="title">Title</label>
    <input id="title" type="text" class="form-control" name="title" th:field="*{title}" placeholder="Title"/>
    <div class="md-form">

        <label for="photo">Photo</label>
        <br/>


        <input class="form-control" placeholder="Profile Picture" th:field="*{photo}" type="text"
               id="photo" value=""/>
        <button type="button" class="btn-outline-secondary" id="open">Open Picker</button>

    </div>
    <input type="hidden"  name="password" th:field="*{password}"/>

    <button type="submit" class="btn btn-primary">Submit Edit</button>

</form>





</div>
</div>
<script>
    const openBtn = document.getElementById('open');
    const options = {
        onUploadDone: (res) =>
            document.getElementById("photo").value = res.filesUploaded[0].url,
    };
    console.log(50);
    const client = filestack.init(FSKey);

    openBtn.addEventListener("click", function () {
        client.picker(options).open()


    });
</script>

<th:block th:replace="fragments/bootstrapjs :: bootstrap-script">
</th:block>
</body>
</html>