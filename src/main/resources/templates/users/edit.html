<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="fragments/header :: my-header('Edit Profile')">
    </th:block>
</head>
<body>
<form th:action ="@{'/profile/'+ ${user.id} +'/edit'}" th:method="POST" th:object="${user}">
    <input type="text"  name="username" th:field="*{username}" />
    <input type="text"  name="email" th:field="*{email}" />
    <input type="text"  name="firstname" th:field="*{firstname}" />
    <input type="text"  name="lastname" th:field="*{lastname}" />
    <input type="text"  name="title" th:field="*{title}" />
    <input type="hidden"  name="password" th:field="*{password}" />

    <div class="md-form">
        <input class="form-control" placeholder="Profile Picture" th:field="*{photo}" type="text"
               id="photo" value=""/>
        <button type="button" id="open">Open Picker</button>
    </div>

    <button>Edit </button>
</form>

<script>
    const openBtn = document.getElementById('open');
    const options = {
        onUploadDone: (res) =>
            document.getElementById("photo").value = res.filesUploaded[0].url,
    };
    console.log(50);
    const client = filestack.init(FSKey);

    openBtn.addEventListener("click", function () {
        client.picker(options).open()

    });
</script>

<th:block th:replace="fragments/bootstrapjs :: bootstrap-script">
</th:block>
</body>
</html>